(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f56ba34"],{"36bd":function(t,e,n){"use strict";var i=n("4bf8"),s=n("77f1"),r=n("9def");t.exports=function(t){var e=i(this),n=r(e.length),o=arguments.length,a=s(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,u=void 0===l?n:s(l,n);while(u>a)e[a++]=t;return e}},"6c7b":function(t,e,n){var i=n("5ca1");i(i.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"7cd5":function(t,e,n){"use strict";n.r(e);n("6c7b");var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"cesium-container"}},[e("div",{staticClass:"btns_container"},[e("div",{staticClass:"pub_btn",on:{click:function(e){return t.handleMeasureEarth("POINT")}}},[t._v("\n      位置测量\n    ")]),e("div",{staticClass:"pub_btn",on:{click:function(e){return t.handleMeasureEarth("SPACE_DISTANCE")}}},[t._v("\n      距离测量\n    ")]),e("div",{staticClass:"pub_btn",on:{click:function(e){return t.handleMeasureEarth("SPACE_AREA")}}},[t._v("\n      面积测量\n    ")]),e("div",{staticClass:"pub_btn",on:{click:function(e){return t.handleMeasureEarth("clear")}}},[t._v("\n      清除\n    ")]),e("div",{staticClass:"pub_btn",on:{click:function(e){return t.handleMeasureEarth("SPACE_VOLUME")}}},[t._v("\n      体积测量\n    ")]),e("div",{staticClass:"pub_button_li",staticStyle:{"margin-top":"5px"}},[!t.startShow&&t.computing?e("div",[e("button",{staticClass:"xbsj-button pub_btn",on:{click:t.buttonClick}},[t._v("\n          "+t._s(t.buttonText)+"\n        ")]),e("br"),e("span",[t._v("计算进度:"+t._s((100*t.progress).toFixed(1))+"%")])]):t._e(),t.startShow||t.computing?t._e():e("div",{staticStyle:{width:"218px","border-right":"1px solid",float:"left","margin-right":"14px"}},[e("button",{staticClass:"xbsj-button pub_btn",on:{click:t.buttonClick}},[t._v("\n          "+t._s(t.buttonText)+"\n        ")]),e("br"),e("span",[t._v("计算结果:")]),e("br"),e("span",[t._v("采样间距:"+t._s(t.results.gridWidth.toFixed(2))+"\n          m")]),e("br"),e("span",[t._v("总面积:"+t._s(t.results.area.toFixed(2))+"\n          ㎡")]),e("br"),e("span",[t._v("挖方:"+t._s(t.results.cut.toFixed(2))+"\n          m³")]),e("br"),e("span",[t._v("填方:"+t._s(t.results.fill.toFixed(2))+"\n          m³")]),e("br"),e("span",[t._v("挖填方:"+t._s(t.results.total.toFixed(2))+"\n          m³")]),e("br")]),e("div",{staticStyle:{width:"252px",float:"left"}},[e("span",{staticStyle:{"vertical-align":"middle"}},[t._v("采样间距:")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.gridWidth,expression:"gridWidth",modifiers:{number:!0}}],staticClass:"gridWidth",class:t.computing?"notInput":"",domProps:{value:t.gridWidth},on:{input:function(e){e.target.composing||(t.gridWidth=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("\n        m\n        "),e("br"),e("span",{staticStyle:{"vertical-align":"middle"}},[t._v("基准面高程:")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.height,expression:"height",modifiers:{number:!0}}],staticClass:"gridWidth",class:t.computing?"notInput":"",domProps:{value:t.height},on:{input:function(e){e.target.composing||(t.height=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("\n        m\n        "),e("br"),e("button",{staticClass:"xbsj-button pub_btn",attrs:{disabled:t.computing},on:{click:t.startClick}},[t._v("\n          开始分析\n        ")])])])])])},s=[],r={data:function(){return{text:{cancelComputing:"取消计算",start:"开始分析",reStart:"重新开始"},startShow:!0,polygonCreating:!1,enabled:!1,status:"",progress:0,computing:!1,gridWidth:1,height:0,results:{gridWidth:0,area:0,cut:0,fill:0,total:0}}},computed:{buttonText:function(){return this.computing?this.text.cancelComputing:this.text.reStart}},watch:{},mounted:function(){var t=new XE.Earth(document.getElementById("cesium-container"),{terrainExaggeration:1,geocoder:!1,sceneModePicker:!1,baseLayerPicker:!1,navigationHelpButton:!1,animation:!1,infoBox:!1,timeline:!1,shouldAnimate:!0,homeButton:!0,fullscreenButton:!0,requestRenderMode:!0,scene3DOnly:!0,useBrowserRecommendedResolution:!1,selectionIndicator:!1,useDefaultRenderLoop:!0,orderIndependentTranslucency:!1,contextOptions:{allowTextureFilterAnisotropic:!1,webgl:{alpha:!0}}});window.earth=t;var e=t.czm.viewer;e.scene3DOnly=!0,window.viewer=e,t.sceneTree.root={children:[{czmObject:{name:"默认离线影像",xbsjType:"Imagery",xbsjImageryProvider:{XbsjImageryProvider:{url:"https://server.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",srcCoordType:"WGS84",dstCoordType:"WGS84",maximumLevel:16}}}}]};var n=new Cesium.Cesium3DTileset({url:"http://earthsdk.com/v/last/Apps/assets/dayanta/tileset.json",debugShowMemoryUsage:!1});e.scene.primitives.add(n),e.zoomTo(n)},methods:{startClick:function(){2!==this._cutFillComputing.positions.length&&(this._cutFillComputing.compute(),this.startShow=!1)},buttonClick:function(){var t=this;this._cutFillComputing.clearResults(),this._cutFillComputing.polygonCreating=!1,this._cutFillComputing.positions=[],this.$nextTick((function(){t._cutFillComputing.polygonCreating=!0,t.startShow=!0}))},handleMeasureEarth:function(t){var e=this;if("clear"!==t){if("SPACE_VOLUME"===t){this._cutFillComputing=earth.analyzation.cutFillComputing,this._disposers=[];var n=["polygonCreating","progress","computing","gridWidth","height","results.gridWidth","results.area","results.cut","results.fill","results.total"];return n.forEach((function(t){e._disposers.push(XE.MVVM.bind(e,t,e._cutFillComputing,t))})),void(this._cutFillComputing.polygonCreating=!0)}earth.analyzation.measurement.type=t}else earth.analyzation.measurement.clearResults()}}},o=r,a=(n("b46b"),n("2877")),l=Object(a["a"])(o,i,s,!1,null,null,null);e["default"]=l.exports},b46b:function(t,e,n){"use strict";n("b5ec")},b5ec:function(t,e,n){}}]);