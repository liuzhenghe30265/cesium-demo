(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0202ba49"],{"904f":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return a}));i("ac6a");var n=i("595b");function r(e,t,i){e.readyPromise.then((function(e){for(var n=c(e),r=t,a=s(r,!i),o=[],l=0;l<a.length-1;l++){var m=u(a[l],a[l+1],n);o.push(m)}var C=new Cesium.ClippingPlaneCollection({planes:o,unionClippingRegions:i,edgeWidth:1});e.clippingPlanes=C}))}function a(e,t){var i={url:e,maximumScreenSpaceError:8,clippingPlanes:t},n=viewer.scene.primitives.add(new Cesium.Cesium3DTileset(i));return n.readyPromise.then((function(e){if(!Cesium.Matrix4.equals(e.root.transform,Cesium.Matrix4.IDENTITY)){var i=Cesium.Matrix4.getTranslation(e.root.transform,new Cesium.Cartesian3),n=Cesium.Cartographic.fromCartesian(i),r=Cesium.Cartographic.fromCartesian(e.boundingSphere.center),a=r.height-n.height;return t.modelMatrix=Cesium.Matrix4.fromTranslation(new Cesium.Cartesian3(0,0,a)),e}})),n}function s(e,t){var i=[];e.forEach((function(e){i.push([e[0],e[1]])}));var r=Object(n["lineString"])(i),a=Object(n["booleanClockwise"])(r),s=[];if(t)if(a)for(var o=0,u=e.length-1;u>=0;u--)s[o]=e[u],o++;else s=e;else if(a)s=e;else for(var c=0,l=e.length-1;l>=0;l--)s[c]=e[l],c++;return s}function o(e,t){var i=Cesium.Cartesian3.fromDegrees(e[0],e[1]);return Cesium.Matrix4.multiplyByPoint(t,i,new Cesium.Cartesian3(0,0,0))}function u(e,t,i){var n=o(e,i),r=o(t,i),a=new Cesium.Cartesian3(0,0,10),s=Cesium.Cartesian3.subtract(r,n,new Cesium.Cartesian3),u=Cesium.Cartesian3.cross(s,a,new Cesium.Cartesian3);u=Cesium.Cartesian3.normalize(u,u);var c=Cesium.Plane.fromPointNormal(n,u);return Cesium.ClippingPlane.fromPlane(c)}function c(e){var t,i=e.root.transform;return t=i&&i.equals(Cesium.Matrix4.IDENTITY)||!i?Cesium.Transforms.eastNorthUpToFixedFrame(e.boundingSphere.center):Cesium.Matrix4.fromArray(e.root.transform),Cesium.Matrix4.inverseTransformation(t,new Cesium.Matrix4)}},ac6a:function(e,t,i){for(var n=i("cadf"),r=i("0d58"),a=i("2aba"),s=i("7726"),o=i("32e9"),u=i("84f2"),c=i("2b4c"),l=c("iterator"),m=c("toStringTag"),C=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=r(f),d=0;d<h.length;d++){var p,g=h[d],v=f[g],w=s[g],S=w&&w.prototype;if(S&&(S[l]||o(S,l,C),S[m]||o(S,m,g),u[g]=C,v))for(p in n)S[p]||a(S,p,n[p],!0)}},f126:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"}},[t("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"cesium-container"}}),t("div",{staticClass:"btns"},[t("i",{on:{click:e.handleClick}},[e._v("\n      "+e._s(e.cut?"内部裁切":"外部裁切")+"\n    ")])])])},r=[],a=(i("96cf"),i("3b8d")),s=i("c31f"),o=i("904f"),u={data:function(){return{cut:!1,tileset:null}},computed:{},watch:{},mounted:function(){var e=this;window.$InitMap(),this.tileset=new Cesium.Cesium3DTileset({url:"https://lab.earthsdk.com/model/908311a0ac2f11e99dbd8fd044883638/tileset.json",debugShowMemoryUsage:!1}),viewer.scene.primitives.add(this.tileset),this.tileset.readyPromise.then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var i,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.boundingSphere,n=i.center,e.next=4,Cesium.sampleTerrainMostDetailed(viewer.terrainProvider,[n]);case 4:r=e.sent,Object(s["i"])(r[0]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){e.$confirm("无法加载 tileset，去处理？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){window.open("https://lab.earthsdk.com/model/","_blank")})).catch((function(){}))})),viewer.zoomTo(this.tileset);var t=new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);t.setInputAction((function(e){var t=viewer.camera.pickEllipsoid(e.position,viewer.scene.globe.ellipsoid),i=Cesium.Cartographic.fromCartesian(t,viewer.scene.globe.ellipsoid,new Cesium.Cartographic);Cesium.Math.toDegrees(i.longitude),Cesium.Math.toDegrees(i.latitude)}),Cesium.ScreenSpaceEventType.LEFT_CLICK)},methods:{handleClick:function(){this.cut=!this.cut,this.cut?Object(o["b"])(this.tileset,[[121.49260265519028,31.242117807041236],[121.51355676668399,31.245032122784824],[121.51871163020894,31.232316199923016],[121.50450627122848,31.227712061479057],[121.49406078139155,31.238990131267578]],!0):Object(o["b"])(this.tileset,[[121.49260265519028,31.242117807041236],[121.51355676668399,31.245032122784824],[121.51871163020894,31.232316199923016],[121.50450627122848,31.227712061479057],[121.49406078139155,31.238990131267578]],!1)}}},c=u,l=i("2877"),m=Object(l["a"])(c,n,r,!1,null,null,null);t["default"]=m.exports}}]);