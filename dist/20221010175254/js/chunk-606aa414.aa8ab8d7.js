(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-606aa414"],{"11e9":function(e,t,i){var a=i("52a7"),n=i("4630"),r=i("6821"),o=i("6a99"),s=i("69a8"),l=i("c69a"),u=Object.getOwnPropertyDescriptor;t.f=i("9e1e")?u:function(e,t){if(e=r(e),t=o(t,!0),l)try{return u(e,t)}catch(i){}if(s(e,t))return n(!a.f.call(e,t),e[t])}},"18ce":function(e,t,i){},"454f":function(e,t,i){i("46a7");var a=i("584a").Object;e.exports=function(e,t,i){return a.defineProperty(e,t,i)}},"46a7":function(e,t,i){var a=i("63b6");a(a.S+a.F*!i("8e60"),"Object",{defineProperty:i("d9f6").f})},"4fc8":function(e,t,i){e.exports=i.p+"20221010175254/img/point.4fe971e2.png"},"5dbc":function(e,t,i){var a=i("d3f4"),n=i("8b97").set;e.exports=function(e,t,i){var r,o=t.constructor;return o!==i&&"function"==typeof o&&(r=o.prototype)!==i.prototype&&a(r)&&n&&n(e,r),e}},"7b71":function(e,t,i){"use strict";function a(e){var t=e.camera.computeViewRectangle(),i={};if("undefined"===typeof t){var a=function(e,t,i){var a=e.camera,n=e.scene,r=new Cesium.Cartesian2(t,i),o=n.globe.ellipsoid,s=a.pickEllipsoid(r,o),l=n.globe.ellipsoid.cartesianToCartographic(s),u=Cesium.Math.toDegrees(l.longitude),c=Cesium.Math.toDegrees(l.latitude);return{lon:u,lat:c}},n=e.scene.canvas,r=a(e,0,0),o=a(e,n.clientWidth,n.clientHeight);i.xmin=r.lon,i.xmax=o.lon,i.ymin=r.lat,i.ymax=o.lat}else i.xmax=Cesium.Math.toDegrees(t.east),i.ymax=Cesium.Math.toDegrees(t.north),i.xmin=Cesium.Math.toDegrees(t.west),i.ymin=Cesium.Math.toDegrees(t.south);return i}function n(e,t,i,a){return{longitude:e+a*Math.sin(i*Math.PI/180)*180/(6371229*Math.PI*Math.cos(t*Math.PI/180)),latitude:t+a*Math.cos(i*Math.PI/180)/(6371229*Math.PI/180)}}function r(e,t){var i=new Cesium.Cartesian3.fromDegrees(e.longitude,e.latitude,e.altitude),a=new Cesium.Cartesian3.fromDegrees(e.longitude,e.latitude+1e-4,e.altitude),n=Cesium.Cartographic.fromCartesian(a);n.height=0;var r=Cesium.Cartographic.toCartesian(n),o=Cesium.Cartesian3.normalize(Cesium.Cartesian3.subtract(r,a,new Cesium.Cartesian3),new Cesium.Cartesian3),s=Cesium.Quaternion.fromAxisAngle(o,Cesium.Math.toRadians(t)),l=Cesium.Matrix3.fromQuaternion(s),u=Cesium.Matrix4.fromRotationTranslation(l),c=Cesium.Cartesian3.subtract(a,i,new Cesium.Cartesian3),d=Cesium.Matrix4.multiplyByPoint(u,c,new Cesium.Cartesian3);return d}function o(e,t,i){var a=Cesium.Cartesian3.normalize(t,new Cesium.Cartesian3),n=Cesium.Cartesian3.multiplyByScalar(a,i,new Cesium.Cartesian3);return Cesium.Cartesian3.add(e,n,new Cesium.Cartesian3)}t["a"]={getExtend:a,translateByDirection:o,getVector:r,distancePos:n}},"85f2":function(e,t,i){e.exports=i("454f")},"8b97":function(e,t,i){var a=i("d3f4"),n=i("cb7c"),r=function(e,t){if(n(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,i){return r(e,i),t?e.__proto__=i:a(e,i),e}}({},!1):void 0),check:r}},9093:function(e,t,i){var a=i("ce10"),n=i("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,n)}},aa77:function(e,t,i){var a=i("5ca1"),n=i("be13"),r=i("79e5"),o=i("fdef"),s="["+o+"]",l="​",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),d=function(e,t,i){var n={},s=r((function(){return!!o[e]()||l[e]()!=l})),u=n[e]=s?t(m):o[e];i&&(n[i]=u),a(a.P+a.F*s,"String",n)},m=d.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=d},b0b4:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var a=i("85f2"),n=i.n(a);function r(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),n()(e,a.key,a)}}function o(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),n()(e,"prototype",{writable:!1}),e}},c5f6:function(e,t,i){"use strict";var a=i("7726"),n=i("69a8"),r=i("2d95"),o=i("5dbc"),s=i("6a99"),l=i("79e5"),u=i("9093").f,c=i("11e9").f,d=i("86cc").f,m=i("aa77").trim,h="Number",f=a[h],p=f,g=f.prototype,C=r(i("2aeb")(g))==h,w="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=w?t.trim():m(t,3);var i,a,n,r=t.charCodeAt(0);if(43===r||45===r){if(i=t.charCodeAt(2),88===i||120===i)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+t}for(var o,l=t.slice(2),u=0,c=l.length;u<c;u++)if(o=l.charCodeAt(u),o<48||o>n)return NaN;return parseInt(l,a)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof f&&(C?l((function(){g.valueOf.call(i)})):r(i)!=h)?o(new p(y(t)),i,f):y(t)};for(var v,b=i("9e1e")?u(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;b.length>D;D++)n(p,v=b[D])&&!n(f,v)&&d(f,v,c(p,v));f.prototype=g,g.constructor=f,i("2aba")(a,h,f)}},c689:function(e,t,i){"use strict";i("18ce")},d225:function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}i.d(t,"a",(function(){return a}))},f3f9:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"cesium-container"}},[t("div",{staticClass:"btn_container"},[t("button",{on:{click:e.handlePlay}},[e._v(e._s(e.play?"暂停":"播放"))]),t("button",{on:{click:e.handleRestart}},[e._v("重新开始")]),t("button",{on:{click:e.handleDestory}},[e._v("销毁")])])])},n=[],r=(i("c5f6"),i("f932")),o=i("7b71"),s=i("d225"),l=i("b0b4"),u=i("2ef0"),c=function(){function e(t,i){Object(s["a"])(this,e),this.viewer=t,this.points=i.points||[],this.moveData=[],this.play=!1}return Object(l["a"])(e,[{key:"Init",value:function(){var e=this,t=Date.now(),i=this.viewer;if(this.points&&0!==this.points.length){var a=[];this.points.map((function(e,t){a.push([Object.assign({original:!0},e),Object.assign(e)])}));for(var n=0;n<a.length;n++){var r=a[n],o=a[n+1];r&&o&&(o[0].heading=r[1].heading)}var s=Object(u["flattenDeep"])(a);s.map((function(i,a){var n=t+1e4*a;0!==a&&1!==a||(n=t),e.moveData.push({x:i.longitude,y:i.latitude,z:i.altitude,heading:i.heading,time:n,JulianDate:Cesium.JulianDate.fromDate(new Date(n)),original:i.original})}));var l=new Date(this.moveData[0].time),c=Cesium.JulianDate.fromDate(l);i.clock.startTime=c,i.clock.currentTime=c;for(var d=new Cesium.SampledPositionProperty,m=new Cesium.SampledProperty(Cesium.Quaternion),h=0;h<this.moveData.length;h++){var f=this.moveData[h],p=Cesium.JulianDate.fromDate(new Date(f.time)),g=Cesium.Cartesian3.fromDegrees(f.x,f.y,f.z);d.addSample(p,g);var C=new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(Number(f.heading||0)-90),Cesium.Math.toRadians(0),Cesium.Math.toRadians(0)),w=Cesium.Transforms.headingPitchRollQuaternion(g,C);m.addSample(p,w)}var y=d._property._times,v=y[0].clone(),b=y[y.length-1].clone();i.entities.add({id:"trackEntity",availability:new Cesium.TimeIntervalCollection([new Cesium.TimeInterval({start:v,stop:b})]),position:d,orientation:m,model:{uri:"model/Cesium_Air.glb",scale:1,minimumPixelSize:90},path:{show:!0,leadTime:0,trailTime:60,width:10,resolution:1,material:new Cesium.PolylineGlowMaterialProperty({glowPower:.3,taperPower:.3,color:Cesium.Color.PALEGOLDENROD})}})}}},{key:"Restart",value:function(){this.play=!1,this.viewer.clock.currentTime=this.viewer.clock.startTime}},{key:"Play",value:function(){this.play=!0,this.viewer.clock.shouldAnimate=!0}},{key:"Pause",value:function(){this.play=!1,this.viewer.clock.shouldAnimate=!1}},{key:"Destory",value:function(){this.viewer.trackedEntity=null;var e=this.viewer.entities.getById("trackEntity");e&&this.viewer.entities.remove(e)}},{key:"EventListener",value:function(){var e=this;this.viewer.clock.onTick.addEventListener((function(t){e.play}))}}]),e}(),d={data:function(){return{roaming:null,play:!1,viewer:null}},computed:{},watch:{},mounted:function(){var e=this;Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJjYTJjNTM1Yy0wZDRjLTRlZWYtYTFkMi1hOGIwNTI2ZGU0MDgiLCJpZCI6ODI5MjAsImlhdCI6MTY0NTE2NDEyOH0.XndixRDpLnRAxnqSNQpT2JofpGyngIUWlmzbG53hEtM",this.viewer=new Cesium.Viewer("cesium-container",{terrainProvider:Cesium.createWorldTerrain(),animation:!1,timeline:!1,baseLayerPicker:!1,fullscreenButton:!1,vrButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!0,imageryProvider:new Cesium.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"})}),this.viewer.entities.removeAll();var t=[];r.map((function(a,n){var r=o["a"].distancePos(a.longitude,a.latitude,a.heading,20);e.viewer.entities.add(new Cesium.Entity({id:"heading"+n,name:"headingLine",polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights([a.longitude,a.latitude,a.altitude,r.longitude,r.latitude,a.altitude]),width:10,material:new Cesium.PolylineArrowMaterialProperty(new Cesium.Color.fromCssColorString("#fff").withAlpha(1)),scaleByDistance:new Cesium.NearFarScalar(100,.6,7e3,.2)}}));a.action&&a.action.length>0&&a.action.map((function(t,i){var r="Action"+n+i,s=20,l=new Cesium.Cartesian3.fromDegrees(a.longitude,a.latitude,a.altitude),u=o["a"].getVector(a,Number(a.heading+t.yaw)),c=s*Math.cos(t.pitch*Math.PI/180);l=o["a"].translateByDirection(l,u,c);var d=s*Math.sin(t.pitch*Math.PI/180),m=e.viewer.scene.globe.ellipsoid.cartesianToCartographic(l),h=Cesium.Math.toDegrees(m.latitude),f=Cesium.Math.toDegrees(m.longitude);l=new Cesium.Cartesian3.fromDegrees(f,h,a.altitude-d);var p=e.viewer.entities.add(new Cesium.Entity({id:r,position:l,orientation:Cesium.Transforms.headingPitchRollQuaternion(l,new Cesium.HeadingPitchRoll.fromDegrees(Number(a.heading+t.yaw),0,-1*t.pitch)),box:{dimensions:new Cesium.Cartesian3(.3,2*s,.3),material:new Cesium.PolylineArrowMaterialProperty(new Cesium.Color.fromCssColorString("#f00").withAlpha(1)),outline:!1}}));return p}));e.viewer.entities.add(new Cesium.Entity({id:"point"+a.id,name:"point",position:Cesium.Cartesian3.fromDegrees(a.longitude,a.latitude,a.altitude),data:{point:a},billboard:{image:i("4fc8"),verticalOrigin:Cesium.VerticalOrigin.CENTER,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,scale:.5,scaleByDistance:new Cesium.NearFarScalar(100,.6,7e3,.2),show:!0},label:{text:a.id+"",fillColor:new Cesium.Color.fromCssColorString("#fff"),outlineColor:new Cesium.Color.fromCssColorString("#fff"),outlineWidth:.5,verticalOrigin:Cesium.VerticalOrigin.CENTER,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,showBackground:!0,backgroundColor:new Cesium.Color.fromCssColorString("#fff").withAlpha(0),scaleByDistance:new Cesium.NearFarScalar(100,.6,7e3,.2),show:!0}}));t.push(a.longitude),t.push(a.latitude),t.push(a.altitude)}));var a=this.viewer.entities.add(new Cesium.Entity({id:"line",name:"line",polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(t),width:4,arcType:Cesium.ArcType.RHUMB,material:new Cesium.PolylineDashMaterialProperty({color:new Cesium.Color.fromCssColorString("#FCB718").withAlpha(1),dashLength:10}),scaleByDistance:new Cesium.NearFarScalar(100,.6,7e3,.2)}}));this.viewer.flyTo(a,{duration:1,offset:new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(-30),Cesium.Math.toRadians(-45),Cesium.Math.toRadians(0))}),this.roaming=new c(this.viewer,{points:r,shootCallback:function(e){}}),this.roaming.Init()},methods:{handleDestory:function(){this.roaming.Destory()},handleRestart:function(){this.roaming.Restart()},handlePlay:function(){this.play=!this.play,this.play?this.roaming.Play():this.roaming.Pause()}}},m=d,h=(i("c689"),i("2877")),f=Object(h["a"])(m,a,n,!1,null,null,null);t["default"]=f.exports},f932:function(e){e.exports=JSON.parse('[{"id":1,"latitude":31.85376,"longitude":120.217137,"altitude":90,"heading":-2,"action":[{"src":"https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg","id":164260,"yaw":100,"roll":100,"pitch":100}]},{"id":2,"latitude":31.8554312,"longitude":120.216864,"altitude":82.5,"heading":90,"action":[]},{"id":3,"latitude":31.8556587,"longitude":120.2185077,"altitude":92.6,"heading":180,"action":[{"src":"https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg","id":164262,"yaw":0,"roll":0,"pitch":45}]},{"id":4,"latitude":31.856109,"longitude":120.2218049,"altitude":93.4,"heading":270,"action":[]},{"id":6,"latitude":31.8559722,"longitude":120.2218505,"altitude":62.27,"heading":360,"action":[{"src":"https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg","id":164264,"yaw":0,"roll":0,"pitch":1.7}]},{"id":7,"latitude":31.8559748,"longitude":120.2218342,"altitude":58.18,"heading":270,"action":[{"src":"https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg","id":164266,"yaw":-1.4,"roll":0,"pitch":1.9}]},{"id":8,"latitude":31.8559665,"longitude":120.2218342,"altitude":51.39,"heading":180,"action":[{"src":"https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg","id":164268,"yaw":-2,"roll":0,"pitch":1.7}]},{"id":9,"latitude":31.8559705,"longitude":120.2218332,"altitude":44.96,"heading":90,"action":[]},{"id":10,"latitude":31.8562512,"longitude":120.2217962,"altitude":62.04,"heading":0,"action":[{"src":"https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg","id":164271,"yaw":0,"roll":0,"pitch":1.7}]},{"id":11,"latitude":31.8562451,"longitude":120.2217842,"altitude":58.18,"heading":0,"action":[]},{"id":12,"latitude":31.8562542,"longitude":120.2217819,"altitude":51.42,"heading":0,"action":[]},{"id":13,"latitude":31.8562497,"longitude":120.2217814,"altitude":44.99,"heading":0,"action":[{"src":"https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg","id":164276,"yaw":-2.2,"roll":0,"pitch":2}]}]')},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);