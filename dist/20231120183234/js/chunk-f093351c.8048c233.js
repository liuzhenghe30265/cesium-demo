(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f093351c"],{"53ca":function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i.d(e,"a",(function(){return n}))},a38e:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("53ca");function a(t,e){if("object"!==Object(n["a"])(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,e||"default");if("object"!==Object(n["a"])(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function s(t){var e=a(t,"string");return"symbol"===Object(n["a"])(e)?e:String(e)}},bee2:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("a38e");function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Object(n["a"])(a.key),a)}}function s(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}},c58a:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"cesium-container"}},[e("div",{staticClass:"control",staticStyle:{position:"absolute",right:"50px",top:"50px","z-index":"999",width:"200px",color:"#fff"}},[e("div",[e("span",[t._v("width")]),e("el-slider",{attrs:{min:0,max:1e3},on:{input:t.handleChange},model:{value:t.width,callback:function(e){t.width=e},expression:"width"}})],1),e("div",[e("span",[t._v("height")]),e("el-slider",{attrs:{min:0,max:1e3},on:{input:t.handleChange},model:{value:t.height,callback:function(e){t.height=e},expression:"height"}})],1),e("div",[e("span",[t._v("fov")]),e("el-slider",{attrs:{min:0,max:179},on:{input:t.handleChange},model:{value:t.fov,callback:function(e){t.fov=e},expression:"fov"}})],1),e("div",[e("span",[t._v("near")]),e("el-slider",{attrs:{min:0,max:1e4},on:{input:t.handleChange},model:{value:t.near,callback:function(e){t.near=e},expression:"near"}})],1),e("div",[e("span",[t._v("far")]),e("el-slider",{attrs:{min:0,max:t.near},on:{input:t.handleChange},model:{value:t.far,callback:function(e){t.far=e},expression:"far"}})],1),e("div",[e("span",[t._v("heading")]),e("el-slider",{attrs:{min:0,max:360},on:{input:t.handleChange},model:{value:t.heading,callback:function(e){t.heading=e},expression:"heading"}})],1),e("div",[e("span",[t._v("pitch")]),e("el-slider",{attrs:{min:0,max:360},on:{input:t.handleChange},model:{value:t.pitch,callback:function(e){t.pitch=e},expression:"pitch"}})],1),e("div",[e("span",[t._v("roll")]),e("el-slider",{attrs:{min:0,max:360},on:{input:t.handleChange},model:{value:t.roll,callback:function(e){t.roll=e},expression:"roll"}})],1)])])},a=[],s=i("d4ec"),r=i("bee2"),o=function(){function t(e){Object(s["a"])(this,t),this.position=e.position,this.fov=e.fov||0,this.near=e.near||0,this.far=e.far||0,this.heading=e.heading||0,this.pitch=e.pitch||0,this.roll=e.roll||0,this.width=e.width,this.height=e.height,this.add()}return Object(r["a"])(t,[{key:"UpdateWidth",value:function(t){this.width=t,this.add()}},{key:"UpdateHeight",value:function(t){this.height=t,this.add()}},{key:"UpdateFov",value:function(t){this.fov=t,this.add()}},{key:"UpdateNear",value:function(t){this.near=t,this.add()}},{key:"UpdateFar",value:function(t){this.far=t,this.add()}},{key:"UpdateHeading",value:function(t){this.heading=t,this.add()}},{key:"UpdatePitch",value:function(t){this.pitch=t,this.add()}},{key:"UpdateRoll",value:function(t){this.roll=t,this.add()}},{key:"UpdataPosition",value:function(t){t&&(this.position=t,this.add())}},{key:"Update",value:function(t,e){this.position=Cesium.Cartesian3.fromDegrees(t.longitude,t.latitude,t.altitude),this.orientation=Cesium.Transforms.headingPitchRollQuaternion(this.position,new Cesium.HeadingPitchRoll.fromDegrees(e.heading,e.pitch,e.roll)),this.add()}},{key:"add",value:function(){this.clear(),this.addFrustum(),this.addOutline()}},{key:"clear",value:function(){this.clearFrustum(),this.clearOutline()}},{key:"clearFrustum",value:function(){this.frustumPrimitive&&(viewer.scene.primitives.remove(this.frustumPrimitive),this.frustumPrimitive=null)}},{key:"clearOutline",value:function(){this.outlinePrimitive&&(viewer.scene.primitives.remove(this.outlinePrimitive),this.outlinePrimitive=null)}},{key:"addFrustum",value:function(){var t=new Cesium.PerspectiveFrustum({fov:Cesium.Math.toRadians(this.fov),aspectRatio:this.width/this.height,near:this.near,far:this.far}),e=Cesium.Cartesian3.fromDegrees(this.position.longitude,this.position.latitude,this.position.altitude),i=new Cesium.FrustumGeometry({frustum:t,origin:e,orientation:Cesium.Transforms.headingPitchRollQuaternion(e,new Cesium.HeadingPitchRoll.fromDegrees(this.heading,this.pitch,this.roll)),vertexFormat:Cesium.VertexFormat.POSITION_ONLY}),n=new Cesium.GeometryInstance({geometry:i,attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(new Cesium.Color(1,0,0,.2))}}),a=new Cesium.Primitive({geometryInstances:n,appearance:new Cesium.PerInstanceColorAppearance({closed:!0,flat:!0}),asynchronous:!1});this.frustumPrimitive=viewer.scene.primitives.add(a)}},{key:"addOutline",value:function(){var t=new Cesium.PerspectiveFrustum({fov:Cesium.Math.toRadians(this.fov),aspectRatio:this.width/this.height,near:this.near,far:this.far}),e=Cesium.Cartesian3.fromDegrees(this.position.longitude,this.position.latitude,this.position.altitude),i=new Cesium.FrustumOutlineGeometry({frustum:t,origin:e,orientation:Cesium.Transforms.headingPitchRollQuaternion(e,new Cesium.HeadingPitchRoll.fromDegrees(this.heading,this.pitch,this.roll)),vertexFormat:Cesium.VertexFormat.POSITION_ONLY}),n=new Cesium.GeometryInstance({geometry:i,attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(new Cesium.Color(1,1,0,1))}}),a=new Cesium.Primitive({geometryInstances:n,appearance:new Cesium.PerInstanceColorAppearance({closed:!0,flat:!0}),asynchronous:!1});this.outlinePrimitive=viewer.scene.primitives.add(a)}}]),t}(),u={name:"ConeOfVision",data:function(){return{longitude:117,latitude:39,altitude:100,width:150,height:100,fov:90,near:200,far:10,roll:0,pitch:0,heading:0,frustum:null}},computed:{},watch:{},mounted:function(){window.$InitMap(),viewer.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(117,38.992,1e3),orientation:{heading:Cesium.Math.toRadians(0),pitch:Cesium.Math.toRadians(-45),roll:0}}),this.frustum=new o({position:{longitude:this.longitude,latitude:this.latitude,altitude:this.altitude},fov:this.fov,near:this.near,far:this.far,heading:this.heading,pitch:this.pitch,roll:this.roll,width:this.width,height:this.height})},methods:{handleChange:function(){this.frustum.UpdateWidth(this.width),this.frustum.UpdateHeight(this.height),this.frustum.UpdateHeading(this.heading),this.frustum.UpdatePitch(this.pitch),this.frustum.UpdateRoll(this.roll),this.frustum.UpdateFov(this.fov),this.frustum.UpdateNear(this.near),this.frustum.UpdateFar(this.far)}}},h=u,l=i("2877"),d=Object(l["a"])(h,n,a,!1,null,null,null);e["default"]=d.exports},d4ec:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,"a",(function(){return n}))}}]);