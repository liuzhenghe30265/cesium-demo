(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-349229ef"],{"02ca":function(e,t,n){"use strict";n("5637")},"11e9":function(e,t,n){var i=n("52a7"),o=n("4630"),a=n("6821"),r=n("6a99"),c=n("69a8"),s=n("c69a"),l=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?l:function(e,t){if(e=a(e),t=r(t,!0),s)try{return l(e,t)}catch(n){}if(c(e,t))return o(!i.f.call(e,t),e[t])}},1839:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"cesium-container"}},[n("div",{staticClass:"btns_container"},[n("el-slider",{attrs:{step:1,min:5,max:16,"show-stops":""},on:{change:e.handleChange},model:{value:e.sliderVal,callback:function(t){e.sliderVal=t},expression:"sliderVal"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}]},[e.visible?n("ThreeModel",{attrs:{process:e.process,yaw:e.yaw,pitch:e.pitch,roll:e.roll}}):e._e()],1)])},o=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas_container",attrs:{id:"canvas_container"}})},r=[],c=(n("96cf"),n("3b8d")),s=(n("7f7f"),n("c5f6"),n("5a89")),l=(n("4721"),n("34ad")),d={name:"ThreeModel",props:{process:{type:Number,default:0},yaw:{type:[Number,String],default:0},pitch:{type:[Number,String],default:0},roll:{type:[Number,String],default:0}},data:function(){return{degList:[4,5,6],animateTimerDeg:null,animateTimerScale:null,animateTimer:null,timer:null,droneAnimateTimeScale:1,droneMixer:null,droneClock:null,droneAnimationAction:null,droneModelAnimateTimer:null,droneModelMaxScale:200,droneModelTranslateY:80,droneModelInitScale:90,droneModel:null,dockAnimateTimeScale:.05,dockMixer:null,dockClock:null,dockAnimationAction:null,dockModelTranslateYHide:-1200,dockModelTranslateY:-400,dockModelInitScale:55,dockModelOpen:!1,dockModelPosition:"up",droneDegPlay:!1,dockModel:null,scene:null,camera:null,renderer:null,textureLoader:null,groupBox:null,control:null,enableRotate:null}},computed:{},watch:{process:function(e){var t=this;if(1==e);else if(2==e);else if(3==e);else if(4==e)this.setModelOwnAnimateToggle(this.dockAnimationAction,!0),setTimeout((function(){t.setModelOwnAnimatePlay(t.droneAnimationAction,!0),t.droneDegPlay=!0,t.setModelAnimate(t.dockModel,"down",t.dockModelTranslateYHide),t.setModelOwnAnimateToggle(t.dockAnimationAction,!1),t.setModelScale(t.droneModel,"big",t.droneModelMaxScale)}),15e3);else if(5==e){if("up"===this.dockModelPosition&&!this.dockModelOpen)return;this.setModelVisible(this.dockModel,!0),this.setModelAnimate(this.dockModel,"up",this.dockModelTranslateY),this.setModelOwnAnimateToggle(this.dockAnimationAction,!0),this.setModelScale(this.droneModel,"small",this.droneModelMaxScale)}else 6==e&&(this.setModelOwnAnimatePlay(this.droneAnimationAction,!1),this.droneDegPlay=!1,this.setModelOwnAnimateToggle(this.dockAnimationAction,!1))},yaw:function(e){this.degChange()},pitch:function(e){this.degChange()},roll:function(e){this.degChange()}},mounted:function(){this.init()},beforeDestroy:function(){this.clear()},methods:{setModelDeg:function(e,t){var n=this;if(e){if(this.animateTimerDeg&&clearInterval(this.animateTimerDeg),!t)return e.rotation.x=0,e.rotation.y=0,void(e.rotation.z=0);this.animateTimerDeg=setInterval((function(){e.rotation.x=s["I"].degToRad(n.roll),e.rotation.y=s["I"].degToRad(n.pitch),e.rotation.z=s["I"].degToRad(n.yaw)}),1e3)}},degChange:function(){this.droneModel&&this.droneDegPlay&&(this.droneModel.rotation.x=s["I"].degToRad(this.roll),this.droneModel.rotation.y=s["I"].degToRad(this.pitch),this.droneModel.rotation.z=s["I"].degToRad(this.yaw))},setModelScale:function(e,t,n){var i=this;if(e)if(this.animateTimerScale&&clearInterval(this.animateTimerScale),"big"===t){var o=this.droneModelInitScale;this.animateTimerScale=setInterval((function(){o+=1,e.scale.set(o,o,o),o>=n&&clearInterval(i.animateTimerScale)}),50)}else if("small"===t){var a=n;this.animateTimerScale=setInterval((function(){a+=-1,e.scale.set(a,a,a),a<=i.droneModelInitScale&&clearInterval(i.animateTimerScale)}),50)}},setModelAnimate:function(e,t,n){var i=this;e&&("shengDock"===e.name&&(this.dockModelPosition=t),this.animateTimer&&clearInterval(this.animateTimer),this.animateTimer=setInterval((function(){"up"===t?(e.translateY(3),e.position.y>=n&&clearInterval(i.animateTimer)):"down"===t&&(e.translateY(-3),e.position.y<=n&&(clearInterval(i.animateTimer),i.setModelVisible(i.dockModel,!1)))}),80))},setModelVisible:function(e,t){e&&(e.visible=!!t)},setModelOwnAnimatePlay:function(e,t){e&&(t?e.play():e.stop())},setModelOwnAnimateToggle:function(e,t){e&&(t?(e.paused=!0,e.timeScale=this.dockAnimateTimeScale,e.paused=!1,e.play(),this.dockModelOpen=!0):(e.paused=!0,e.timeScale=-this.dockAnimateTimeScale,e.paused=!1,e.play(),this.dockModelOpen=!1))},clear:function(){window.cancelAnimationFrame(this.clearAnim)},init:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,i,o,a,r,c,d,u,m,h=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,n=document.getElementById("canvas_container"),i=n.clientWidth,o=n.clientHeight,this.scene=new s["db"],this.scene.background=null,a=i/o,r=400,this.camera=new s["U"](-r*a,r*a,r,-r,1,1e3),this.camera.position.set(0,180,360),this.camera.lookAt(this.scene.position),this.renderer=new s["sb"]({antialias:!0,alpha:!0}),this.renderer.setClearColor(0,0),this.renderer.setSize(140,140),this.renderer.shadowMap.enabled=!0,this.textureLoader=new s["mb"],this.groupBox=new s["p"],c=new s["W"](16777215),c.position.set(500,300,400),this.scene.add(c),d=new s["a"](16777215,.8),this.scene.add(d),n.appendChild(this.renderer.domElement),u=new l["a"],e.next=26,u.load("model/shengDock.glb",(function(e){e.scene.name="shengDock",e.scene.scale.set(t.dockModelInitScale,t.dockModelInitScale,t.dockModelInitScale),e.scene.position.set(0,0,0),e.scene.translateY(t.dockModelTranslateY),t.dockMixer=new s["c"](e.scene),t.dockClock=new s["i"],t.dockAnimationAction=t.dockMixer.clipAction(e.animations[0]),t.dockAnimationAction.timeScale=t.dockAnimateTimeScale,t.dockAnimationAction.loop=s["F"],t.dockAnimationAction.clampWhenFinished=!0,t.scene.add(e.scene),t.dockModel=e.scene}),(function(e){}),(function(e){}));case 26:return e.next=28,u.load("model/shengfeiji.glb",(function(e){e.scene.name="shengDrone",e.scene.scale.set(t.droneModelInitScale,t.droneModelInitScale,t.droneModelInitScale),e.scene.position.set(0,0,0),e.scene.translateY(t.droneModelTranslateY),t.droneMixer=new s["c"](e.scene),t.droneClock=new s["i"],t.droneAnimationAction=t.droneMixer.clipAction(e.animations[0]),t.droneAnimationAction.timeScale=t.droneAnimateTimeScale,t.droneAnimationAction.clampWhenFinished=!0,t.scene.add(e.scene),t.droneModel=e.scene}),(function(e){}),(function(e){}));case 28:m=function e(){h.clearAnim=requestAnimationFrame(e),h.renderer.render(h.scene,h.camera),h.dockMixer&&h.dockMixer.update(h.dockClock.getDelta()),h.droneMixer&&h.droneMixer.update(h.droneClock.getDelta())},m();case 30:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},u=d,m=(n("02ca"),n("2877")),h=Object(m["a"])(u,a,r,!1,null,"46e3132c",null),f=h.exports,p={components:{ThreeModel:f},data:function(){return{visible:!0,timer:null,yaw:0,pitch:0,roll:0,sliderVal:0,process:-1}},computed:{},watch:{},mounted:function(){this.degTimerFun(),this.sliderVal=0,Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJjYTJjNTM1Yy0wZDRjLTRlZWYtYTFkMi1hOGIwNTI2ZGU0MDgiLCJpZCI6ODI5MjAsImlhdCI6MTY0NTE2NDEyOH0.XndixRDpLnRAxnqSNQpT2JofpGyngIUWlmzbG53hEtM";var e=new Cesium.Viewer("cesium-container",{terrainProvider:Cesium.createWorldTerrain(),animation:!1,baseLayerPicker:!1,fullscreenButton:!1,vrButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!0,imageryProvider:new Cesium.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"})});e.camera.flyTo({destination:Cesium.Rectangle.fromDegrees(100,10,120,70)}),e.scene.camera.moveEnd.addEventListener((function(){})),e.camera.percentageChanged=1e-5,e.camera.changed.addEventListener((function(e){}));var t=new Cesium.ScreenSpaceEventHandler(e.scene.canvas);t.setInputAction((function(t){var n=e.camera.pickEllipsoid(t.position,e.scene.globe.ellipsoid),i=Cesium.Cartographic.fromCartesian(n,e.scene.globe.ellipsoid,new Cesium.Cartographic);Cesium.Math.toDegrees(i.longitude),Cesium.Math.toDegrees(i.latitude)}),Cesium.ScreenSpaceEventType.LEFT_CLICK),t.setInputAction((function(e){}),Cesium.ScreenSpaceEventType.MOUSE_MOVE)},methods:{degTimerFun:function(){var e=this;this.timer&&clearInterval(this.timer),this.timer=setInterval((function(){e.yaw=[0,1,2,3,4,5][Math.floor(6*Math.random())],e.pitch=[0,1,2,3,4,5][Math.floor(6*Math.random())],e.roll=[0,1,2,3,4,5][Math.floor(6*Math.random())]}),1e3)},handleChange:function(){var e=this.sliderVal;6==e||7==e||8==e?this.process=1:9==e||10==e||11==e||12==e||13==e?this.process=4:14==e?this.process=5:15==e?this.process=6:16==e&&(this.process=7)},handleClick:function(){this.visible=!this.visible}}},g=p,M=(n("7e95"),Object(m["a"])(g,i,o,!1,null,null,null));t["default"]=M.exports},5637:function(e,t,n){},"57c6":function(e,t,n){},"5dbc":function(e,t,n){var i=n("d3f4"),o=n("8b97").set;e.exports=function(e,t,n){var a,r=t.constructor;return r!==n&&"function"==typeof r&&(a=r.prototype)!==n.prototype&&i(a)&&o&&o(e,a),e}},"7e95":function(e,t,n){"use strict";n("57c6")},"7f7f":function(e,t,n){var i=n("86cc").f,o=Function.prototype,a=/^\s*function ([^ (]*)/,r="name";r in o||n("9e1e")&&i(o,r,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},"8b97":function(e,t,n){var i=n("d3f4"),o=n("cb7c"),a=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:a}},9093:function(e,t,n){var i=n("ce10"),o=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},aa77:function(e,t,n){var i=n("5ca1"),o=n("be13"),a=n("79e5"),r=n("fdef"),c="["+r+"]",s="​",l=RegExp("^"+c+c+"*"),d=RegExp(c+c+"*$"),u=function(e,t,n){var o={},c=a((function(){return!!r[e]()||s[e]()!=s})),l=o[e]=c?t(m):r[e];n&&(o[n]=l),i(i.P+i.F*c,"String",o)},m=u.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(d,"")),e};e.exports=u},c5f6:function(e,t,n){"use strict";var i=n("7726"),o=n("69a8"),a=n("2d95"),r=n("5dbc"),c=n("6a99"),s=n("79e5"),l=n("9093").f,d=n("11e9").f,u=n("86cc").f,m=n("aa77").trim,h="Number",f=i[h],p=f,g=f.prototype,M=a(n("2aeb")(g))==h,v="trim"in String.prototype,A=function(e){var t=c(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():m(t,3);var n,i,o,a=t.charCodeAt(0);if(43===a||45===a){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t}for(var r,s=t.slice(2),l=0,d=s.length;l<d;l++)if(r=s.charCodeAt(l),r<48||r>o)return NaN;return parseInt(s,i)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof f&&(M?s((function(){g.valueOf.call(n)})):a(n)!=h)?r(new p(A(t)),n,f):A(t)};for(var I,k=n("9e1e")?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;k.length>T;T++)o(p,I=k[T])&&!o(f,I)&&u(f,I,d(p,I));f.prototype=g,g.constructor=f,n("2aba")(i,h,f)}},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);