(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f762af7"],{"0b8d":function(e,n,t){},8270:function(e,n,t){"use strict";t("0b8d")},"9bb0":function(e,n,t){"use strict";t("eb36")},af46:function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e._self._c;return n("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"cesium-container"}},[n("div",{staticStyle:{position:"absolute",right:"50px",top:"100px","z-index":"9"}},[n("div",[n("button",{on:{click:function(n){return e.handlePlay("play")}}},[e._v("播放动画")]),n("button",{on:{click:function(n){return e.handlePlay("reverse")}}},[e._v("播放动画（反）")]),n("button",{on:{click:function(n){return e.handlePlay("paused")}}},[e._v("暂停")]),n("button",{on:{click:function(n){return e.handlePlay("stop")}}},[e._v("停止动画")])]),n("div",[n("button",{on:{click:function(n){return e.handlePlay2("play")}}},[e._v("播放动画")]),n("button",{on:{click:function(n){return e.handlePlay2("stop")}}},[e._v("停止动画")])])]),n("ThreeModel",{ref:"ThreeModel"})],1)},o=[],a=function(){var e=this,n=e._self._c;return n("div",{staticClass:"three_container",attrs:{id:"three_container"}})},r=[],l=(t("96cf"),t("3b8d")),s=t("5a89"),c=t("4721"),d=t("34ad"),m={name:"ThreeModel",props:{},data:function(){return{modelMixer:null,modelClock:null,modelAnimationAction:null,modelAnimationAction2:null,model:null,scene:null,camera:null,renderer:null,textureLoader:null,groupBox:null,control:null,enableRotate:null}},computed:{},watch:{},mounted:function(){window.cancelAnimationFrame(this.clearAnim),this.init()},beforeDestroy:function(){window.cancelAnimationFrame(this.clearAnim)},methods:{init:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var n,t,i,o,a,r,l,m,u,h,p=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this,t=document.getElementById("three_container"),i=t.clientWidth,o=t.clientHeight,this.scene=new s["db"],this.scene.background=null,a=i/o,r=400,this.camera=new s["U"](-r*a,r*a,r,-r,1,1e3),this.camera.position.set(0,180,360),this.camera.lookAt(this.scene.position),this.renderer=new s["sb"]({antialias:!0,alpha:!0}),this.renderer.setClearColor(0,0),this.renderer.setSize(400,400),this.renderer.shadowMap.enabled=!0,this.textureLoader=new s["mb"],this.groupBox=new s["p"],l=new s["W"](16777215),l.position.set(500,300,400),this.scene.add(l),m=new s["a"](16777215,.8),this.scene.add(m),t.appendChild(this.renderer.domElement),this.control=new c["a"](this.camera,this.renderer.domElement),this.control.enableDamping=!0,this.control.dampingFactor=.5,this.control.enableZoom=!0,this.control.autoRotate=!1,this.control.minDistance=20,this.control.maxDistance=1e3,this.control.enablePan=!0,this.control.maxPolarAngle=1.5,this.control.minPolarAngle=0,this.enableRotate=!0,u=new d["a"],e.next=37,u.load("model/Cesium_Air.glb",(function(e){e.scene.name="Cesium_Air",e.scene.scale.set(20,20,20),e.scene.position.set(0,0,0),e.scene.translateY(0),n.modelMixer=new s["c"](e.scene),n.modelClock=new s["i"],n.modelAnimationAction=n.modelMixer.clipAction(e.animations[0]),n.modelAnimationAction.timeScale=1,n.modelAnimationAction.clampWhenFinished=!0,n.modelAnimationAction2=n.modelMixer.clipAction(e.animations[1]),n.modelAnimationAction2.timeScale=1,n.modelAnimationAction2.clampWhenFinished=!0,n.scene.add(e.scene),n.model=e.scene}),(function(e){}),(function(e){}));case 37:h=function e(){p.clearAnim=requestAnimationFrame(e),p.control.update(),p.renderer.render(p.scene,p.camera),p.modelMixer&&p.modelMixer.update(p.modelClock.getDelta())},h();case 39:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()}},u=m,h=(t("9bb0"),t("2877")),p=Object(h["a"])(u,a,r,!1,null,"6c9d09d0",null),f=p.exports,A={components:{ThreeModel:f},data:function(){return{paused:!1}},computed:{},watch:{},mounted:function(){window.$InitMap(),viewer.camera.flyTo({destination:Cesium.Rectangle.fromDegrees(100,10,120,70)}),viewer.scene.camera.moveEnd.addEventListener((function(){})),viewer.camera.percentageChanged=1e-5,viewer.camera.changed.addEventListener((function(e){}));var e=new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);e.setInputAction((function(e){var n=viewer.camera.pickEllipsoid(e.position,viewer.scene.globe.ellipsoid),t=Cesium.Cartographic.fromCartesian(n,viewer.scene.globe.ellipsoid,new Cesium.Cartographic);Cesium.Math.toDegrees(t.longitude),Cesium.Math.toDegrees(t.latitude)}),Cesium.ScreenSpaceEventType.LEFT_CLICK),e.setInputAction((function(e){}),Cesium.ScreenSpaceEventType.MOUSE_MOVE)},methods:{handlePlay2:function(e){"play"===e?this.$refs.ThreeModel.modelAnimationAction2.play():"stop"===e&&this.$refs.ThreeModel.modelAnimationAction2.stop()},handlePlay:function(e){"play"===e?(this.$refs.ThreeModel.modelAnimationAction.paused=!0,this.$refs.ThreeModel.modelAnimationAction.timeScale=1,this.$refs.ThreeModel.modelAnimationAction.paused=!1,this.$refs.ThreeModel.modelAnimationAction.play()):"reverse"===e?(this.$refs.ThreeModel.modelAnimationAction.paused=!0,this.$refs.ThreeModel.modelAnimationAction.timeScale=-1,this.$refs.ThreeModel.modelAnimationAction.paused=!1,this.$refs.ThreeModel.modelAnimationAction.play()):"paused"===e?(this.paused=!this.paused,this.$refs.ThreeModel.modelAnimationAction.paused=this.paused):"stop"===e&&this.$refs.ThreeModel.modelAnimationAction.stop()}}},w=A,v=(t("8270"),Object(h["a"])(w,i,o,!1,null,null,null));n["default"]=v.exports},eb36:function(e,n,t){}}]);