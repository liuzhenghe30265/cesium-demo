(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-247a989e"],{"454f":function(t,i,e){e("46a7");var n=e("584a").Object;t.exports=function(t,i,e){return n.defineProperty(t,i,e)}},"46a7":function(t,i,e){var n=e("63b6");n(n.S+n.F*!e("8e60"),"Object",{defineProperty:e("d9f6").f})},"85f2":function(t,i,e){t.exports=e("454f")},b0b4:function(t,i,e){"use strict";e.d(i,"a",(function(){return r}));var n=e("85f2"),a=e.n(n);function s(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),a()(t,n.key,n)}}function r(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),a()(t,"prototype",{writable:!1}),t}},c58a:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t._self._c;return i("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"cesium-container"}},[i("div",{staticClass:"control",staticStyle:{position:"absolute",right:"50px",top:"50px","z-index":"999",width:"200px",color:"#fff"}},[i("div",[i("span",[t._v("width")]),i("el-slider",{attrs:{min:0,max:1e3},on:{input:t.handleChange},model:{value:t.width,callback:function(i){t.width=i},expression:"width"}})],1),i("div",[i("span",[t._v("height")]),i("el-slider",{attrs:{min:0,max:1e3},on:{input:t.handleChange},model:{value:t.height,callback:function(i){t.height=i},expression:"height"}})],1),i("div",[i("span",[t._v("fov")]),i("el-slider",{attrs:{min:0,max:179},on:{input:t.handleChange},model:{value:t.fov,callback:function(i){t.fov=i},expression:"fov"}})],1),i("div",[i("span",[t._v("near")]),i("el-slider",{attrs:{min:0,max:1e4},on:{input:t.handleChange},model:{value:t.near,callback:function(i){t.near=i},expression:"near"}})],1),i("div",[i("span",[t._v("far")]),i("el-slider",{attrs:{min:0,max:t.near},on:{input:t.handleChange},model:{value:t.far,callback:function(i){t.far=i},expression:"far"}})],1),i("div",[i("span",[t._v("heading")]),i("el-slider",{attrs:{min:0,max:360},on:{input:t.handleChange},model:{value:t.heading,callback:function(i){t.heading=i},expression:"heading"}})],1),i("div",[i("span",[t._v("pitch")]),i("el-slider",{attrs:{min:0,max:360},on:{input:t.handleChange},model:{value:t.pitch,callback:function(i){t.pitch=i},expression:"pitch"}})],1),i("div",[i("span",[t._v("roll")]),i("el-slider",{attrs:{min:0,max:360},on:{input:t.handleChange},model:{value:t.roll,callback:function(i){t.roll=i},expression:"roll"}})],1)])])},a=[],s=e("d225"),r=e("b0b4"),o=function(){function t(i){Object(s["a"])(this,t),this.position=i.position,this.fov=i.fov||0,this.near=i.near||0,this.far=i.far||0,this.heading=i.heading||0,this.pitch=i.pitch||0,this.roll=i.roll||0,this.width=i.width,this.height=i.height,this.add()}return Object(r["a"])(t,[{key:"UpdateWidth",value:function(t){this.width=t,this.add()}},{key:"UpdateHeight",value:function(t){this.height=t,this.add()}},{key:"UpdateFov",value:function(t){this.fov=t,this.add()}},{key:"UpdateNear",value:function(t){this.near=t,this.add()}},{key:"UpdateFar",value:function(t){this.far=t,this.add()}},{key:"UpdateHeading",value:function(t){this.heading=t,this.add()}},{key:"UpdatePitch",value:function(t){this.pitch=t,this.add()}},{key:"UpdateRoll",value:function(t){this.roll=t,this.add()}},{key:"UpdataPosition",value:function(t){t&&(this.position=t,this.add())}},{key:"Update",value:function(t,i){this.position=Cesium.Cartesian3.fromDegrees(t.longitude,t.latitude,t.altitude),this.orientation=Cesium.Transforms.headingPitchRollQuaternion(this.position,new Cesium.HeadingPitchRoll.fromDegrees(i.heading,i.pitch,i.roll)),this.add()}},{key:"add",value:function(){this.clear(),this.addFrustum(),this.addOutline()}},{key:"clear",value:function(){this.clearFrustum(),this.clearOutline()}},{key:"clearFrustum",value:function(){this.frustumPrimitive&&(viewer.scene.primitives.remove(this.frustumPrimitive),this.frustumPrimitive=null)}},{key:"clearOutline",value:function(){this.outlinePrimitive&&(viewer.scene.primitives.remove(this.outlinePrimitive),this.outlinePrimitive=null)}},{key:"addFrustum",value:function(){var t=new Cesium.PerspectiveFrustum({fov:Cesium.Math.toRadians(this.fov),aspectRatio:this.width/this.height,near:this.near,far:this.far}),i=Cesium.Cartesian3.fromDegrees(this.position.longitude,this.position.latitude,this.position.altitude),e=new Cesium.FrustumGeometry({frustum:t,origin:i,orientation:Cesium.Transforms.headingPitchRollQuaternion(i,new Cesium.HeadingPitchRoll.fromDegrees(this.heading,this.pitch,this.roll)),vertexFormat:Cesium.VertexFormat.POSITION_ONLY}),n=new Cesium.GeometryInstance({geometry:e,attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(new Cesium.Color(1,0,0,.2))}}),a=new Cesium.Primitive({geometryInstances:n,appearance:new Cesium.PerInstanceColorAppearance({closed:!0,flat:!0}),asynchronous:!1});this.frustumPrimitive=viewer.scene.primitives.add(a)}},{key:"addOutline",value:function(){var t=new Cesium.PerspectiveFrustum({fov:Cesium.Math.toRadians(this.fov),aspectRatio:this.width/this.height,near:this.near,far:this.far}),i=Cesium.Cartesian3.fromDegrees(this.position.longitude,this.position.latitude,this.position.altitude),e=new Cesium.FrustumOutlineGeometry({frustum:t,origin:i,orientation:Cesium.Transforms.headingPitchRollQuaternion(i,new Cesium.HeadingPitchRoll.fromDegrees(this.heading,this.pitch,this.roll)),vertexFormat:Cesium.VertexFormat.POSITION_ONLY}),n=new Cesium.GeometryInstance({geometry:e,attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(new Cesium.Color(1,1,0,1))}}),a=new Cesium.Primitive({geometryInstances:n,appearance:new Cesium.PerInstanceColorAppearance({closed:!0,flat:!0}),asynchronous:!1});this.outlinePrimitive=viewer.scene.primitives.add(a)}}]),t}(),h={name:"ConeOfVision",data:function(){return{longitude:117,latitude:39,altitude:100,width:150,height:100,fov:90,near:200,far:10,roll:0,pitch:0,heading:0,frustum:null}},computed:{},watch:{},mounted:function(){window.$InitMap(),viewer.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(117,38.992,1e3),orientation:{heading:Cesium.Math.toRadians(0),pitch:Cesium.Math.toRadians(-45),roll:0}}),this.frustum=new o({position:{longitude:this.longitude,latitude:this.latitude,altitude:this.altitude},fov:this.fov,near:this.near,far:this.far,heading:this.heading,pitch:this.pitch,roll:this.roll,width:this.width,height:this.height})},methods:{handleChange:function(){this.frustum.UpdateWidth(this.width),this.frustum.UpdateHeight(this.height),this.frustum.UpdateHeading(this.heading),this.frustum.UpdatePitch(this.pitch),this.frustum.UpdateRoll(this.roll),this.frustum.UpdateFov(this.fov),this.frustum.UpdateNear(this.near),this.frustum.UpdateFar(this.far)}}},u=h,l=e("2877"),d=Object(l["a"])(u,n,a,!1,null,null,null);i["default"]=d.exports},d225:function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}e.d(i,"a",(function(){return n}))}}]);